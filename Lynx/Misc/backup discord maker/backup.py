# fuck you lawliet!!

import discord

token = input("[TOKEN]: ")

lynx = discord.Client()

class MyClient(discord.Client):

    async def on_ready(self):
        print('Logged in {0}'.format(self.user))
        print("Go in the discord server and type: create")
        
    async def on_message(self, message):
        if message.content == 'create':
            await message.channel.send("making roles...")
            Dev_perms = discord.Permissions(administrator=True)
            moderators = discord.Permissions(kick_members=True, ban_members=False, manage_channels=True, view_audit_log=True)

            await message.guild.create_role(name="Developer", permissions=Dev_perms, hoist=True, colour=discord.Colour.gold())
            buyer_role = await message.guild.create_role(name="Buyers", hoist=True, colour=discord.Colour.red())
            await message.guild.create_role(name="Administrator", permissions=Dev_perms, hoist=True, colour=discord.Colour.orange())
            await message.guild.create_role(name="Moderators", permissions=moderators, hoist=True, colour=discord.Colour.blue())

            overwrites = {
                message.guild.default_role: discord.PermissionOverwrite(send_messages=False),
            }

            buyers = {
                buyer_role: discord.PermissionOverwrite(send_messages=True, read_messages=True),
                message.guild.default_role: discord.PermissionOverwrite(read_messages=False),
            }

            await message.channel.send("making channels...")
            Information = await message.guild.create_category("Information", overwrites=overwrites, reason=None)
            await message.guild.create_text_channel("guidelines", overwrites=overwrites, category=Information, topic="Lynx Server rules.", reason=None)
            await message.guild.create_text_channel("announcements", overwrites=overwrites, category=Information, topic="Server announcements, Info and more", reason=None)
            await message.guild.create_text_channel("buyer-announcements", overwrites=buyers, category=Information, topic="Buyers only", reason=None)
            await message.guild.create_text_channel("update-logs", overwrites=overwrites, category=Information, topic="Update Logs of Lynx software", reason=None)

            Public_Channels = await message.guild.create_category("Public Channels", overwrites=None, reason=None)
            await message.guild.create_text_channel("general", overwrites=None, category=Public_Channels, topic="Chat with anyone, don't forget to follow the rules", reason=None)
            await message.guild.create_text_channel("buyers-general", overwrites=buyers, category=Public_Channels, topic="Cool people only, Lynx gang", reason=None)
            await message.guild.create_text_channel("bot-commmands", overwrites=None, category=Public_Channels, topic="if you bought lynx do `-redeem KeyHere`", reason=None)
            await message.guild.create_text_channel("memes", overwrites=None, category=Public_Channels, topic="you know what this is...", reason=None)
            await message.guild.create_text_channel("nsfw", overwrites=None, category=Public_Channels, topic="horny fuckers", nsfw=True, reason=None)

            await message.channel.send('done.')


client = MyClient()
client.run(token)